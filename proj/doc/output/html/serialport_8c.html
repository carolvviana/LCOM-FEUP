<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LCOM Project: C:/MINIX-LCOM/MINIX-LCOM/shared/g3/proj/src/serialport/serialport.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LCOM Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3916d8b7e60f6011192d2bd9a1ea0739.html">serialport</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">serialport.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;lcom/lcf.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="serialport_8h_source.html">serialport.h</a>&quot;</code><br />
<code>#include &lt;lcom/utils.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for serialport.c:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c__incl.png" border="0" usemap="#a_c_1_2_m_i_n_i_x-_l_c_o_m_2_m_i_n_i_x-_l_c_o_m_2shared_2g3_2proj_2src_2serialport_2serialport_8c" alt=""/></div>
<map name="a_c_1_2_m_i_n_i_x-_l_c_o_m_2_m_i_n_i_x-_l_c_o_m_2shared_2g3_2proj_2src_2serialport_2serialport_8c" id="a_c_1_2_m_i_n_i_x-_l_c_o_m_2_m_i_n_i_x-_l_c_o_m_2shared_2g3_2proj_2src_2serialport_2serialport_8c">
<area shape="rect" title=" " alt="" coords="83,5,251,64"/>
<area shape="rect" title=" " alt="" coords="5,187,83,213"/>
<area shape="rect" title=" " alt="" coords="111,187,185,213"/>
<area shape="rect" title=" " alt="" coords="212,187,276,213"/>
<area shape="rect" href="serialport_8h.html" title=" " alt="" coords="124,112,209,139"/>
<area shape="rect" title=" " alt="" coords="284,112,372,139"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1ea6d4c0f0217715d1f79f1cf57e9c50"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a1ea6d4c0f0217715d1f79f1cf57e9c50">DEBUG_MSG</a>(msg)</td></tr>
<tr class="separator:a1ea6d4c0f0217715d1f79f1cf57e9c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a903a77c54afa75ec3fa313d35471a4ce"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a903a77c54afa75ec3fa313d35471a4ce">init_serialp</a> ()</td></tr>
<tr class="memdesc:a903a77c54afa75ec3fa313d35471a4ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the serial port: Enables serialport interrupts and sets the serialport to the correct configuration (interrupt when there is data avilable). Reads all data that might be unread and signals it is ready to connect.  <a href="serialport_8c.html#a903a77c54afa75ec3fa313d35471a4ce">More...</a><br /></td></tr>
<tr class="separator:a903a77c54afa75ec3fa313d35471a4ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb60b252d2c9db2d53985dd520d5848"><td class="memItemLeft" align="right" valign="top">void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a4cb60b252d2c9db2d53985dd520d5848">serialp_ih</a> ()</td></tr>
<tr class="memdesc:a4cb60b252d2c9db2d53985dd520d5848"><td class="mdescLeft">&#160;</td><td class="mdescRight">SerialPort interrupt handler.  <a href="serialport_8c.html#a4cb60b252d2c9db2d53985dd520d5848">More...</a><br /></td></tr>
<tr class="separator:a4cb60b252d2c9db2d53985dd520d5848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6a9f33696579390bf06bf4eb054a05"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a0c6a9f33696579390bf06bf4eb054a05">read_data_serialp</a> ()</td></tr>
<tr class="memdesc:a0c6a9f33696579390bf06bf4eb054a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from the serial port: Checks status, sees if there is any data received, reads it and stores it in the variable data.  <a href="serialport_8c.html#a0c6a9f33696579390bf06bf4eb054a05">More...</a><br /></td></tr>
<tr class="separator:a0c6a9f33696579390bf06bf4eb054a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837ae217c80e9748327e27e8cac6e1e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4">serialp_get_status</a> (uint8_t *status)</td></tr>
<tr class="memdesc:a837ae217c80e9748327e27e8cac6e1e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the status of the serial port from the LSR.  <a href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4">More...</a><br /></td></tr>
<tr class="separator:a837ae217c80e9748327e27e8cac6e1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b7fadf66deb5979674e1ff80e31129"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129">serialp_check_error</a> (uint8_t *status)</td></tr>
<tr class="memdesc:af0b7fadf66deb5979674e1ff80e31129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the parameter status does not have Parity, overrun or framing errors.  <a href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129">More...</a><br /></td></tr>
<tr class="separator:af0b7fadf66deb5979674e1ff80e31129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a8ffc2d2a50c92c68480eac1e7b9c7"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7">read_status_serialp</a> (uint8_t *status)</td></tr>
<tr class="memdesc:af7a8ffc2d2a50c92c68480eac1e7b9c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the status of the serial port from Line Status Register and checks if there are no errors.  <a href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7">More...</a><br /></td></tr>
<tr class="separator:af7a8ffc2d2a50c92c68480eac1e7b9c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0923a173e5234a5aac43789de70142e9"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a0923a173e5234a5aac43789de70142e9">send_data_serialp</a> (uint8_t <a class="el" href="controller_8c.html#a325819a8e492ac69542e8b31705af6e9">data</a>)</td></tr>
<tr class="memdesc:a0923a173e5234a5aac43789de70142e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to the serial port: First checks status and sees if THR and TSR are empty, then sends the data.  <a href="serialport_8c.html#a0923a173e5234a5aac43789de70142e9">More...</a><br /></td></tr>
<tr class="separator:a0923a173e5234a5aac43789de70142e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d0da0e2cfd471644e3e0f1e649373d"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a51d0da0e2cfd471644e3e0f1e649373d">serialp_connection</a> (int *ready)</td></tr>
<tr class="memdesc:a51d0da0e2cfd471644e3e0f1e649373d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estabilishes a first connection (and connects) between the two serial ports. Determines which player is which and sends the ready signal.  <a href="serialport_8c.html#a51d0da0e2cfd471644e3e0f1e649373d">More...</a><br /></td></tr>
<tr class="separator:a51d0da0e2cfd471644e3e0f1e649373d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb5e2314ffab528191e83f9836ab0451"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#acb5e2314ffab528191e83f9836ab0451">serialp_subscribe_int</a> (uint8_t *bit_no)</td></tr>
<tr class="memdesc:acb5e2314ffab528191e83f9836ab0451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes the serial port interrupts.  <a href="serialport_8c.html#acb5e2314ffab528191e83f9836ab0451">More...</a><br /></td></tr>
<tr class="separator:acb5e2314ffab528191e83f9836ab0451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6b9501e2df0aca48c25239718191c7"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#aef6b9501e2df0aca48c25239718191c7">serialp_unsubscribe_int</a> ()</td></tr>
<tr class="memdesc:aef6b9501e2df0aca48c25239718191c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribes the serial port interrupts.  <a href="serialport_8c.html#aef6b9501e2df0aca48c25239718191c7">More...</a><br /></td></tr>
<tr class="separator:aef6b9501e2df0aca48c25239718191c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84789a9e59191b48170648424f170820"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a84789a9e59191b48170648424f170820">write_address_with_offset</a> (int offset, uint8_t <a class="el" href="controller_8c.html#a325819a8e492ac69542e8b31705af6e9">data</a>)</td></tr>
<tr class="memdesc:a84789a9e59191b48170648424f170820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the parameter data to a certain address (address of COM1 + offset)  <a href="serialport_8c.html#a84789a9e59191b48170648424f170820">More...</a><br /></td></tr>
<tr class="separator:a84789a9e59191b48170648424f170820"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a325819a8e492ac69542e8b31705af6e9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a325819a8e492ac69542e8b31705af6e9">data</a> = 0x00</td></tr>
<tr class="separator:a325819a8e492ac69542e8b31705af6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d886b75c81ca76f409ee9a5e6e5cd70"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#a1d886b75c81ca76f409ee9a5e6e5cd70">data_x_ball</a> = 0x00</td></tr>
<tr class="separator:a1d886b75c81ca76f409ee9a5e6e5cd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc0f3d2badd6df1dd41088b117f16f5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#addc0f3d2badd6df1dd41088b117f16f5">data_y_ball</a> = 0x00</td></tr>
<tr class="separator:addc0f3d2badd6df1dd41088b117f16f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae057c73800980befa6db2c20c119a7f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serialport_8c.html#ae057c73800980befa6db2c20c119a7f5">hook_id_serialp</a> = 4</td></tr>
<tr class="separator:ae057c73800980befa6db2c20c119a7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1ea6d4c0f0217715d1f79f1cf57e9c50" name="a1ea6d4c0f0217715d1f79f1cf57e9c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea6d4c0f0217715d1f79f1cf57e9c50">&#9670;&#160;</a></span>DEBUG_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a903a77c54afa75ec3fa313d35471a4ce" name="a903a77c54afa75ec3fa313d35471a4ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903a77c54afa75ec3fa313d35471a4ce">&#9670;&#160;</a></span>init_serialp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() init_serialp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the serial port: Enables serialport interrupts and sets the serialport to the correct configuration (interrupt when there is data avilable). Reads all data that might be unread and signals it is ready to connect. </p>
<dl class="section return"><dt>Returns</dt><dd>int 0 if success, 1 otherwise </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_a903a77c54afa75ec3fa313d35471a4ce_cgraph.png" border="0" usemap="#aserialport_8c_a903a77c54afa75ec3fa313d35471a4ce_cgraph" alt=""/></div>
<map name="aserialport_8c_a903a77c54afa75ec3fa313d35471a4ce_cgraph" id="aserialport_8c_a903a77c54afa75ec3fa313d35471a4ce_cgraph">
<area shape="rect" title="Initializes the serial port: Enables serialport interrupts and sets the serialport to the correct con..." alt="" coords="5,56,89,83"/>
<area shape="rect" href="serialport_8c.html#a0c6a9f33696579390bf06bf4eb054a05" title="Reads data from the serial port: Checks status, sees if there is any data received,..." alt="" coords="141,56,264,83"/>
<area shape="rect" href="serialport_8c.html#a0923a173e5234a5aac43789de70142e9" title="Sends data to the serial port: First checks status and sees if THR and TSR are empty,..." alt="" coords="139,5,266,32"/>
<area shape="rect" href="serialport_8c.html#a84789a9e59191b48170648424f170820" title="Writes the parameter data to a certain address (address of COM1 + offset)" alt="" coords="137,107,268,149"/>
<area shape="rect" href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7" title="Reads the status of the serial port from Line Status Register and checks if there are no errors." alt="" coords="316,5,450,32"/>
<area shape="rect" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129" title="Checks if the parameter status does not have Parity, overrun or framing errors." alt="" coords="498,56,633,83"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="681,56,771,83"/>
<area shape="rect" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4" title="Reads the status of the serial port from the LSR." alt="" coords="502,5,629,32"/>
</map>
</div>

</div>
</div>
<a id="a0c6a9f33696579390bf06bf4eb054a05" name="a0c6a9f33696579390bf06bf4eb054a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c6a9f33696579390bf06bf4eb054a05">&#9670;&#160;</a></span>read_data_serialp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() read_data_serialp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from the serial port: Checks status, sees if there is any data received, reads it and stores it in the variable data. </p>
<dl class="section return"><dt>Returns</dt><dd>int 0 if success, 1 otherwise </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_a0c6a9f33696579390bf06bf4eb054a05_cgraph.png" border="0" usemap="#aserialport_8c_a0c6a9f33696579390bf06bf4eb054a05_cgraph" alt=""/></div>
<map name="aserialport_8c_a0c6a9f33696579390bf06bf4eb054a05_cgraph" id="aserialport_8c_a0c6a9f33696579390bf06bf4eb054a05_cgraph">
<area shape="rect" title="Reads data from the serial port: Checks status, sees if there is any data received,..." alt="" coords="5,56,129,83"/>
<area shape="rect" href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7" title="Reads the status of the serial port from Line Status Register and checks if there are no errors." alt="" coords="177,56,311,83"/>
<area shape="rect" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129" title="Checks if the parameter status does not have Parity, overrun or framing errors." alt="" coords="359,5,493,32"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="541,81,632,108"/>
<area shape="rect" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4" title="Reads the status of the serial port from the LSR." alt="" coords="363,56,490,83"/>
</map>
</div>

</div>
</div>
<a id="af7a8ffc2d2a50c92c68480eac1e7b9c7" name="af7a8ffc2d2a50c92c68480eac1e7b9c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a8ffc2d2a50c92c68480eac1e7b9c7">&#9670;&#160;</a></span>read_status_serialp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() read_status_serialp </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the status of the serial port from Line Status Register and checks if there are no errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>pointer to the variable where the status will be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_af7a8ffc2d2a50c92c68480eac1e7b9c7_cgraph.png" border="0" usemap="#aserialport_8c_af7a8ffc2d2a50c92c68480eac1e7b9c7_cgraph" alt=""/></div>
<map name="aserialport_8c_af7a8ffc2d2a50c92c68480eac1e7b9c7_cgraph" id="aserialport_8c_af7a8ffc2d2a50c92c68480eac1e7b9c7_cgraph">
<area shape="rect" title="Reads the status of the serial port from Line Status Register and checks if there are no errors." alt="" coords="5,31,140,57"/>
<area shape="rect" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129" title="Checks if the parameter status does not have Parity, overrun or framing errors." alt="" coords="188,5,322,32"/>
<area shape="rect" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4" title="Reads the status of the serial port from the LSR." alt="" coords="191,56,319,83"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="370,56,460,83"/>
</map>
</div>

</div>
</div>
<a id="a0923a173e5234a5aac43789de70142e9" name="a0923a173e5234a5aac43789de70142e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0923a173e5234a5aac43789de70142e9">&#9670;&#160;</a></span>send_data_serialp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() send_data_serialp </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data to the serial port: First checks status and sees if THR and TSR are empty, then sends the data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_a0923a173e5234a5aac43789de70142e9_cgraph.png" border="0" usemap="#aserialport_8c_a0923a173e5234a5aac43789de70142e9_cgraph" alt=""/></div>
<map name="aserialport_8c_a0923a173e5234a5aac43789de70142e9_cgraph" id="aserialport_8c_a0923a173e5234a5aac43789de70142e9_cgraph">
<area shape="rect" title="Sends data to the serial port: First checks status and sees if THR and TSR are empty,..." alt="" coords="5,31,132,57"/>
<area shape="rect" href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7" title="Reads the status of the serial port from Line Status Register and checks if there are no errors." alt="" coords="180,31,314,57"/>
<area shape="rect" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129" title="Checks if the parameter status does not have Parity, overrun or framing errors." alt="" coords="362,5,496,32"/>
<area shape="rect" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4" title="Reads the status of the serial port from the LSR." alt="" coords="366,56,493,83"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="544,56,635,83"/>
</map>
</div>

</div>
</div>
<a id="af0b7fadf66deb5979674e1ff80e31129" name="af0b7fadf66deb5979674e1ff80e31129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b7fadf66deb5979674e1ff80e31129">&#9670;&#160;</a></span>serialp_check_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int serialp_check_error </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the parameter status does not have Parity, overrun or framing errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>pointer to the variable where the status will be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>

</div>
</div>
<a id="a51d0da0e2cfd471644e3e0f1e649373d" name="a51d0da0e2cfd471644e3e0f1e649373d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51d0da0e2cfd471644e3e0f1e649373d">&#9670;&#160;</a></span>serialp_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() serialp_connection </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ready</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estabilishes a first connection (and connects) between the two serial ports. Determines which player is which and sends the ready signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>"ready" to send ready-signal between serialports </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_a51d0da0e2cfd471644e3e0f1e649373d_cgraph.png" border="0" usemap="#aserialport_8c_a51d0da0e2cfd471644e3e0f1e649373d_cgraph" alt=""/></div>
<map name="aserialport_8c_a51d0da0e2cfd471644e3e0f1e649373d_cgraph" id="aserialport_8c_a51d0da0e2cfd471644e3e0f1e649373d_cgraph">
<area shape="rect" title="Estabilishes a first connection (and connects) between the two serial ports. Determines which player ..." alt="" coords="5,31,135,57"/>
<area shape="rect" href="serialport_8c.html#a0923a173e5234a5aac43789de70142e9" title="Sends data to the serial port: First checks status and sees if THR and TSR are empty,..." alt="" coords="183,31,309,57"/>
<area shape="rect" href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7" title="Reads the status of the serial port from Line Status Register and checks if there are no errors." alt="" coords="357,31,491,57"/>
<area shape="rect" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129" title="Checks if the parameter status does not have Parity, overrun or framing errors." alt="" coords="539,5,674,32"/>
<area shape="rect" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4" title="Reads the status of the serial port from the LSR." alt="" coords="543,56,670,83"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="722,56,812,83"/>
</map>
</div>

</div>
</div>
<a id="a837ae217c80e9748327e27e8cac6e1e4" name="a837ae217c80e9748327e27e8cac6e1e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837ae217c80e9748327e27e8cac6e1e4">&#9670;&#160;</a></span>serialp_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int serialp_get_status </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the status of the serial port from the LSR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>pointer to the variable where the status will be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_a837ae217c80e9748327e27e8cac6e1e4_cgraph.png" border="0" usemap="#aserialport_8c_a837ae217c80e9748327e27e8cac6e1e4_cgraph" alt=""/></div>
<map name="aserialport_8c_a837ae217c80e9748327e27e8cac6e1e4_cgraph" id="aserialport_8c_a837ae217c80e9748327e27e8cac6e1e4_cgraph">
<area shape="rect" title="Reads the status of the serial port from the LSR." alt="" coords="5,5,133,32"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="181,5,271,32"/>
</map>
</div>

</div>
</div>
<a id="a4cb60b252d2c9db2d53985dd520d5848" name="a4cb60b252d2c9db2d53985dd520d5848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cb60b252d2c9db2d53985dd520d5848">&#9670;&#160;</a></span>serialp_ih()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void() serialp_ih </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SerialPort interrupt handler. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serialport_8c_a4cb60b252d2c9db2d53985dd520d5848_cgraph.png" border="0" usemap="#aserialport_8c_a4cb60b252d2c9db2d53985dd520d5848_cgraph" alt=""/></div>
<map name="aserialport_8c_a4cb60b252d2c9db2d53985dd520d5848_cgraph" id="aserialport_8c_a4cb60b252d2c9db2d53985dd520d5848_cgraph">
<area shape="rect" title="SerialPort interrupt handler." alt="" coords="5,56,82,83"/>
<area shape="rect" href="serialport_8c.html#a0c6a9f33696579390bf06bf4eb054a05" title="Reads data from the serial port: Checks status, sees if there is any data received,..." alt="" coords="130,56,253,83"/>
<area shape="rect" href="serialport_8c.html#af7a8ffc2d2a50c92c68480eac1e7b9c7" title="Reads the status of the serial port from Line Status Register and checks if there are no errors." alt="" coords="301,56,435,83"/>
<area shape="rect" href="serialport_8c.html#af0b7fadf66deb5979674e1ff80e31129" title="Checks if the parameter status does not have Parity, overrun or framing errors." alt="" coords="483,5,618,32"/>
<area shape="rect" href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4" title=" " alt="" coords="666,81,756,108"/>
<area shape="rect" href="serialport_8c.html#a837ae217c80e9748327e27e8cac6e1e4" title="Reads the status of the serial port from the LSR." alt="" coords="487,56,614,83"/>
</map>
</div>

</div>
</div>
<a id="acb5e2314ffab528191e83f9836ab0451" name="acb5e2314ffab528191e83f9836ab0451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb5e2314ffab528191e83f9836ab0451">&#9670;&#160;</a></span>serialp_subscribe_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() serialp_subscribe_int </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bit_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribes the serial port interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bit_no</td><td>pointer to the hook_id_serialp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>

</div>
</div>
<a id="aef6b9501e2df0aca48c25239718191c7" name="aef6b9501e2df0aca48c25239718191c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6b9501e2df0aca48c25239718191c7">&#9670;&#160;</a></span>serialp_unsubscribe_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() serialp_unsubscribe_int </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribes the serial port interrupts. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>

</div>
</div>
<a id="a84789a9e59191b48170648424f170820" name="a84789a9e59191b48170648424f170820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84789a9e59191b48170648424f170820">&#9670;&#160;</a></span>write_address_with_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() write_address_with_offset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the parameter data to a certain address (address of COM1 + offset) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>of the address relative to the COM1 address </td></tr>
    <tr><td class="paramname">data</td><td>to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, 1 if error </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a325819a8e492ac69542e8b31705af6e9" name="a325819a8e492ac69542e8b31705af6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a325819a8e492ac69542e8b31705af6e9">&#9670;&#160;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t data = 0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1d886b75c81ca76f409ee9a5e6e5cd70" name="a1d886b75c81ca76f409ee9a5e6e5cd70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d886b75c81ca76f409ee9a5e6e5cd70">&#9670;&#160;</a></span>data_x_ball</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t data_x_ball = 0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="addc0f3d2badd6df1dd41088b117f16f5" name="addc0f3d2badd6df1dd41088b117f16f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc0f3d2badd6df1dd41088b117f16f5">&#9670;&#160;</a></span>data_y_ball</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t data_y_ball = 0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae057c73800980befa6db2c20c119a7f5" name="ae057c73800980befa6db2c20c119a7f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae057c73800980befa6db2c20c119a7f5">&#9670;&#160;</a></span>hook_id_serialp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hook_id_serialp = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
