\hypertarget{kbd_8c}{}\doxysection{C\+:/\+MINIX-\/\+LCOM/\+MINIX-\/\+LCOM/shared/g3/proj/src/kbd\+\_\+mouse/kbd.c File Reference}
\label{kbd_8c}\index{C:/MINIX-\/LCOM/MINIX-\/LCOM/shared/g3/proj/src/kbd\_mouse/kbd.c@{C:/MINIX-\/LCOM/MINIX-\/LCOM/shared/g3/proj/src/kbd\_mouse/kbd.c}}
{\ttfamily \#include \char`\"{}kbd.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}i8042.\+h\char`\"{}}\newline
Include dependency graph for kbd.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{kbd_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{kbd_8c_af1206b4d3bda8c4c8c9257f369a9e9e1}{DEBUG\+\_\+\+MSG}}(str)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int() \mbox{\hyperlink{kbd_8c_af3cd440f42d85a42d18c24aff3f13729}{KBC\+\_\+write\+\_\+cmd}} (uint8\+\_\+t port, uint8\+\_\+t cmd\+Byte)
\begin{DoxyCompactList}\small\item\em Writes a command to the KBC. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{kbd_8c_afa20398065dbe981924bee1887ec38f1}{KBC\+\_\+read\+\_\+output\+\_\+keyboard}} (uint8\+\_\+t $\ast$output)
\begin{DoxyCompactList}\small\item\em Reads the output buffer of the KBC for keyboard information. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{kbd_8c_a1cd38040f41a566c4405b2edcce32389}{kbd\+\_\+subscribe\+\_\+int}} (uint8\+\_\+t $\ast$bit)
\begin{DoxyCompactList}\small\item\em Subscribes and enables keyboard interrupts. \end{DoxyCompactList}\item 
void() \mbox{\hyperlink{kbd_8c_aea970a154161a35f6894898a092ed70a}{kbc\+\_\+ih}} ()
\begin{DoxyCompactList}\small\item\em Reads the scancode from the output buffer. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{kbd_8c_aee0a7b54ee426fade9c780418d110fe0}{kbd\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes keyboard interrupts. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{kbd_8c_a74708534432e98d4ab30ba40e2e5dcc3}{kbd\+\_\+hook\+\_\+id}} = 1
\item 
uint8\+\_\+t \mbox{\hyperlink{kbd_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode}} =0
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{kbd_8c_af1206b4d3bda8c4c8c9257f369a9e9e1}\label{kbd_8c_af1206b4d3bda8c4c8c9257f369a9e9e1}} 
\index{kbd.c@{kbd.c}!DEBUG\_MSG@{DEBUG\_MSG}}
\index{DEBUG\_MSG@{DEBUG\_MSG}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{DEBUG\_MSG}{DEBUG\_MSG}}
{\footnotesize\ttfamily \#define DEBUG\+\_\+\+MSG(\begin{DoxyParamCaption}\item[{}]{str }\end{DoxyParamCaption})}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{kbd_8c_aea970a154161a35f6894898a092ed70a}\label{kbd_8c_aea970a154161a35f6894898a092ed70a}} 
\index{kbd.c@{kbd.c}!kbc\_ih@{kbc\_ih}}
\index{kbc\_ih@{kbc\_ih}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{kbc\_ih()}{kbc\_ih()}}
{\footnotesize\ttfamily void() kbc\+\_\+ih (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Reads the scancode from the output buffer. 

\begin{DoxyReturn}{Returns}
int 0 if success, 1 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{kbd_8c_aea970a154161a35f6894898a092ed70a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{kbd_8c_afa20398065dbe981924bee1887ec38f1}\label{kbd_8c_afa20398065dbe981924bee1887ec38f1}} 
\index{kbd.c@{kbd.c}!KBC\_read\_output\_keyboard@{KBC\_read\_output\_keyboard}}
\index{KBC\_read\_output\_keyboard@{KBC\_read\_output\_keyboard}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{KBC\_read\_output\_keyboard()}{KBC\_read\_output\_keyboard()}}
{\footnotesize\ttfamily int() KBC\+\_\+read\+\_\+output\+\_\+keyboard (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{output }\end{DoxyParamCaption})}



Reads the output buffer of the KBC for keyboard information. 


\begin{DoxyParams}{Parameters}
{\em output} & pointer to the variable where the scancode will be stored \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if success, 1 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{kbd_8c_afa20398065dbe981924bee1887ec38f1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{kbd_8c_af3cd440f42d85a42d18c24aff3f13729}\label{kbd_8c_af3cd440f42d85a42d18c24aff3f13729}} 
\index{kbd.c@{kbd.c}!KBC\_write\_cmd@{KBC\_write\_cmd}}
\index{KBC\_write\_cmd@{KBC\_write\_cmd}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{KBC\_write\_cmd()}{KBC\_write\_cmd()}}
{\footnotesize\ttfamily int() KBC\+\_\+write\+\_\+cmd (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{uint8\+\_\+t}]{cmd\+Byte }\end{DoxyParamCaption})}



Writes a command to the KBC. 

Tries to write a command to the KBC.


\begin{DoxyParams}{Parameters}
{\em cmd\+Byte} & command to be written \\
\hline
{\em port} & port to write the command to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if success, 1 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{kbd_8c_af3cd440f42d85a42d18c24aff3f13729_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{kbd_8c_a1cd38040f41a566c4405b2edcce32389}\label{kbd_8c_a1cd38040f41a566c4405b2edcce32389}} 
\index{kbd.c@{kbd.c}!kbd\_subscribe\_int@{kbd\_subscribe\_int}}
\index{kbd\_subscribe\_int@{kbd\_subscribe\_int}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{kbd\_subscribe\_int()}{kbd\_subscribe\_int()}}
{\footnotesize\ttfamily int() kbd\+\_\+subscribe\+\_\+int (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{bit }\end{DoxyParamCaption})}



Subscribes and enables keyboard interrupts. 


\begin{DoxyParams}{Parameters}
{\em bit} & variable that will store the keyboard hook id \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 if success, 1 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{kbd_8c_aee0a7b54ee426fade9c780418d110fe0}\label{kbd_8c_aee0a7b54ee426fade9c780418d110fe0}} 
\index{kbd.c@{kbd.c}!kbd\_unsubscribe\_int@{kbd\_unsubscribe\_int}}
\index{kbd\_unsubscribe\_int@{kbd\_unsubscribe\_int}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{kbd\_unsubscribe\_int()}{kbd\_unsubscribe\_int()}}
{\footnotesize\ttfamily int() kbd\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes keyboard interrupts. 

\begin{DoxyReturn}{Returns}
0 if success, 1 otherwise 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{kbd_8c_a74708534432e98d4ab30ba40e2e5dcc3}\label{kbd_8c_a74708534432e98d4ab30ba40e2e5dcc3}} 
\index{kbd.c@{kbd.c}!kbd\_hook\_id@{kbd\_hook\_id}}
\index{kbd\_hook\_id@{kbd\_hook\_id}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{kbd\_hook\_id}{kbd\_hook\_id}}
{\footnotesize\ttfamily int kbd\+\_\+hook\+\_\+id = 1}

\mbox{\Hypertarget{kbd_8c_aa1de7a5557e9d96b83cf03f73c92163f}\label{kbd_8c_aa1de7a5557e9d96b83cf03f73c92163f}} 
\index{kbd.c@{kbd.c}!scancode@{scancode}}
\index{scancode@{scancode}!kbd.c@{kbd.c}}
\doxysubsubsection{\texorpdfstring{scancode}{scancode}}
{\footnotesize\ttfamily uint8\+\_\+t scancode =0}

